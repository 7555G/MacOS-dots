#!/usr/bin/env bash

# function to append last input line to PATH
append_paths () {
    local current_path="$1"
    shift

    for extra_path in $@; do
        if [[ -d ${extra_path} ]]; then current_path="${extra_path}:${current_path//$extra_path:}"
        fi
    done

    echo "${current_path%:}"
}

extra_paths_file="$1"
current_path="$2"

append_paths "${current_path}" "$(envsubst < ${extra_paths_file})"
